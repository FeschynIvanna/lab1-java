package ua.lviv.iot.algo.part.lab3;

import lombok.ToString;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

    class SchoolPenTest {

        @Test
        void testConstructor() {
            SchoolPen pen = new SchoolPen(101, "Red", "1September",20,4, 3, 2);
            assertEquals(101, pen.getId());
            assertEquals("Red", pen.getColor());
            assertEquals("1September", pen.getBrand());
            assertEquals(20, pen.getSize());
            assertEquals(4, pen.getNumPencils());
            assertEquals(3, pen.getNumPens());
            assertEquals(2, pen.getNumErasers());
        }

        @Test
        void testAddPencil() {
            SchoolPen pen = new SchoolPen(1, "Blue", "Bic", 10, 3, 2, 1);
            pen.addPencil();
            assertEquals(4, pen.getNumPencils());
            pen.addPencil();
            assertEquals(5, pen.getNumPencils());
        }

        @Test
        void testAddPen() {
            SchoolPen pen = new SchoolPen(1, "Blue", "Bic", 10, 3, 2, 1);
            pen.addPen();
            assertEquals(3, pen.getNumPencils());
            assertEquals(3, pen.getNumPens());
            pen.addPen();
            assertEquals(3, pen.getNumPencils());
            assertEquals(4, pen.getNumPens());
        }

        @Test
        void testRemovePencil() {
            SchoolPen pen = new SchoolPen(101, "Red", "1September",20,4, 3, 2);
            pen.removePencil();
            assertEquals(3, pen.getNumPencils());
            pen.removePencil();
            assertEquals(2, pen.getNumPencils());
            pen.removePencil();
            assertEquals(1, pen.getNumPencils());

        }

        @Test
        void testRemovePen() {
            SchoolPen pen = new SchoolPen(101, "Red", "1September",20,4, 3, 2);
            pen.removePen();
            assertEquals(4, pen.getNumPencils());
            assertEquals(2, pen.getNumPens());
            pen.removePen();
            assertEquals(4, pen.getNumPencils());
            assertEquals(1, pen.getNumPens());
        }

        @Test
        void testCalculatePrice() {
            SchoolPen pen = new SchoolPen(101, "Red", "1September", 10, 3, 2, 1);
            int expectedPrice = 3 * 2 + 2 * 5 + 1 * 3;
            int actualPrice = pen.calculatePrice();
            assertEquals(expectedPrice, actualPrice);
        }

        @Test
        void setNumPencils() {
            SchoolPen testClass = new SchoolPen(101, "Red", "1September",20,4, 3, 2);
            testClass.setNumPencils(3);
            assertEquals(3,testClass.getNumPencils());
        }

        @Test
        void testToString(){
            SchoolPen classToTest = new SchoolPen(101, "Red", "1September",20,4, 3, 2);
            assertEquals(classToTest.toString(),classToTest.toString());
        }
    }